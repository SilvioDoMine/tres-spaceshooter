@import "tailwindcss";

/* ==================== FONTS ====================
 * Fontes customizadas para o jogo
 */

@font-face {
  font-family: 'Lilita One';
  src: url('~/assets/fonts/LilitaOne-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Fredoka One';
  src: url('~/assets/fonts/FredokaOne-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* ==================== MOBILE GESTURE LOCK ====================
 * Previne gestos nativos do navegador em dispositivos mobile:
 * - Swipe horizontal (voltar/avançar página)
 * - Pull to refresh
 * - Overscroll bounce (iOS)
 * - Zoom com pinch
 * - Scroll indesejado
 */

html,
body {
  /* Previne overscroll bounce (iOS) */
  overscroll-behavior: none;

  /* Previne zoom mas PERMITE tap/click */
  touch-action: manipulation;

  /* Previne seleção de texto no jogo (mas permite em inputs) */
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;

  /* Previne highlight ao tocar (iOS) */
  -webkit-tap-highlight-color: transparent;

  /* Fixa o tamanho da tela */
  position: fixed;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

/* Garante que o container principal ocupe toda a tela */
#__nuxt,
#__layout {
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: fixed;
  top: 0;
  left: 0;
}

/* Canvas do Three.js */
canvas {
  /* Previne gestos no canvas */
  touch-action: none;

  /* Previne context menu no long press */
  -webkit-touch-callout: none;
}

/* Elementos que PODEM ter scroll (menus, modais, etc) */
.allow-scroll {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* Elementos interativos devem permitir interação normal */
button,
a,
input,
textarea,
select,
[role="button"],
.clickable {
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
  touch-action: manipulation;
  /* Remove delay de 300ms no mobile */
  -ms-touch-action: manipulation;
}

/* Inputs especificamente para texto */
input,
textarea {
  -webkit-user-select: text;
  user-select: text;
}

/* ==================== CUSTOM TEXT UTILITIES ====================
 * Classes reutilizáveis para estilos de texto nos componentes
 */

@layer utilities {
  .title-text {
    font-family: 'Lilita One', sans-serif;
    font-weight: 400;
    color: white;
    letter-spacing: 0.5px;
  }

  /* Text shadow padrão (usado em RibbonTitle e contextos neutros) */
  .title-text-default {
    text-shadow:
      -1px -1px 0 rgba(0, 0, 0, 0.25),
      1px -1px 0 rgba(0, 0, 0, 0.25),
      -1px 1px 0 rgba(0, 0, 0, 0.25),
      1px 1px 0 rgba(0, 0, 0, 0.25),
      0 2px 3px rgba(0, 0, 0, 0.2);
  }

  /* Text shadow para botões/títulos azuis */
  .title-text-blue {
    text-shadow:
      -1px -1px 0 rgba(26, 74, 138, 0.6),
      1px -1px 0 rgba(26, 74, 138, 0.6),
      -1px 1px 0 rgba(26, 74, 138, 0.6),
      1px 1px 0 rgba(26, 74, 138, 0.6),
      0 -1px 0 rgba(26, 74, 138, 0.6),
      0 1px 0 rgba(26, 74, 138, 0.6),
      -1px 0 0 rgba(26, 74, 138, 0.6),
      1px 0 0 rgba(26, 74, 138, 0.6),
      0 2px 3px rgba(0, 0, 0, 0.25);
  }

  /* Text shadow para botões/títulos amarelos */
  .title-text-yellow {
    text-shadow:
      -1px -1px 0 rgba(168, 107, 0, 0.6),
      1px -1px 0 rgba(168, 107, 0, 0.6),
      -1px 1px 0 rgba(168, 107, 0, 0.6),
      1px 1px 0 rgba(168, 107, 0, 0.6),
      0 -1px 0 rgba(168, 107, 0, 0.6),
      0 1px 0 rgba(168, 107, 0, 0.6),
      -1px 0 0 rgba(168, 107, 0, 0.6),
      1px 0 0 rgba(168, 107, 0, 0.6),
      0 2px 3px rgba(0, 0, 0, 0.25);
  }

  /* Text shadow para botões/títulos vermelhos */
  .title-text-red {
    text-shadow:
      -1px -1px 0 rgba(184, 26, 26, 0.6),
      1px -1px 0 rgba(184, 26, 26, 0.6),
      -1px 1px 0 rgba(184, 26, 26, 0.6),
      1px 1px 0 rgba(184, 26, 26, 0.6),
      0 -1px 0 rgba(184, 26, 26, 0.6),
      0 1px 0 rgba(184, 26, 26, 0.6),
      -1px 0 0 rgba(184, 26, 26, 0.6),
      1px 0 0 rgba(184, 26, 26, 0.6),
      0 2px 3px rgba(0, 0, 0, 0.25);
  }

  /* Text shadow para botões/títulos verdes */
  .title-text-green {
    text-shadow:
      -1px -1px 0 rgba(26, 122, 10, 0.6),
      1px -1px 0 rgba(26, 122, 10, 0.6),
      -1px 1px 0 rgba(26, 122, 10, 0.6),
      1px 1px 0 rgba(26, 122, 10, 0.6),
      0 -1px 0 rgba(26, 122, 10, 0.6),
      0 1px 0 rgba(26, 122, 10, 0.6),
      -1px 0 0 rgba(26, 122, 10, 0.6),
      1px 0 0 rgba(26, 122, 10, 0.6),
      0 2px 3px rgba(0, 0, 0, 0.25);
  }

  /* Animação de shake para notificações (ex: baú com tesouro) */
  @keyframes treasure-shake {
    0%, 100% {
      transform: translate(0, 0) rotate(0deg);
    }
    5% {
      transform: translate(0, -2px) rotate(-3deg);
    }
    10% {
      transform: translate(0, -3px) rotate(3deg);
    }
    15% {
      transform: translate(0, -2px) rotate(-2deg);
    }
    20% {
      transform: translate(0, -1px) rotate(2deg);
    }
    25% {
      transform: translate(0, 0) rotate(0deg);
    }
  }

  .animation-shake {
    animation: treasure-shake 2s ease-in-out infinite;
    transform-origin: center bottom;
  }

  /* Animação de float para ícone de notificação */
  @keyframes notification-float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-3px);
    }
  }

  .animation-float {
    animation: notification-float 2s ease-in-out infinite;
  }
}